#!/usr/bin/env python3
import os, json
bookworms = '[{"name":"Tommy Björklund","occupation":"bookkeeper","books_read":["The Hobbit","The Da Vinci Code","Harry Potter and the Chamber of Secrets"]},{"name":"Ida Isaksson","occupation":"janitor","books_read":["Harry Potter and the Philosophers Stone","The Lion, the Witch and the Wardrobe","Heidi","The Alchemist","The Da Vinci Code","The Hobbit"]},{"name":"Christoffer Claesson","occupation":"paramedic","books_read":["The Alchemist","Harry Potter and the Philosophers Stone","The Lion, the Witch and the Wardrobe","The Lord of the Rings","The Hobbit"]},{"name":"Christer Eliasson","occupation":"doctor","books_read":["The Adventures of Pinocchio","Heidi","Harry Potter and the Philosophers Stone","The Lion, the Witch and the Wardrobe","The Alchemist"]},{"name":"Hanna Lindholm","occupation":"criminal","books_read":["Harry Potter and the Chamber of Secrets","The Adventures of Pinocchio","Harry Potter and the Philosophers Stone","The Lion, the Witch and the Wardrobe","The Lord of the Rings","The Hobbit"]},{"name":"Ingrid Söderberg","occupation":"teacher","books_read":["The Lion, the Witch and the Wardrobe","The Hobbit","The Lord of the Rings","Alices Adventures in Wonderland","Harry Potter and the Chamber of Secrets","The Da Vinci Code"]},{"name":"Julia Persson","occupation":"scientist","books_read":["The Lord of the Rings","The Lion, the Witch and the Wardrobe"]},{"name":"Simon Ström","occupation":"teacher","books_read":["The Adventures of Pinocchio","The Da Vinci Code","Alices Adventures in Wonderland"]},{"name":"Isak Sandberg","occupation":"singer","books_read":["The Da Vinci Code","Heidi","The Hobbit","The Lord of the Rings","The Alchemist"]},{"name":"Irene Johansson","occupation":"criminal","books_read":["Harry Potter and the Philosophers Stone","Alices Adventures in Wonderland"]},{"name":"Mats Ekström","occupation":"salesperson","books_read":["Harry Potter and the Chamber of Secrets","The Da Vinci Code","The Lord of the Rings"]},{"name":"Sonja Danielsson","occupation":"programmer","books_read":["The Hobbit","Harry Potter and the Philosophers Stone","The Da Vinci Code"]},{"name":"Gun Arvidsson","occupation":"cashier","books_read":["Harry Potter and the Chamber of Secrets","The Da Vinci Code","Alices Adventures in Wonderland","Harry Potter and the Philosophers Stone","Heidi"]},{"name":"Andreas Jakobsson","occupation":"criminal","books_read":["Alices Adventures in Wonderland","Harry Potter and the Chamber of Secrets","Heidi","The Alchemist"]},{"name":"Susanne Hermansson","occupation":"police","books_read":["Harry Potter and the Chamber of Secrets","Alices Adventures in Wonderland","Harry Potter and the Philosophers Stone","The Da Vinci Code","The Lord of the Rings","Heidi"]},{"name":"Märta Viklund","occupation":"bookkeeper","books_read":["Heidi","The Hobbit","Alices Adventures in Wonderland","The Lion, the Witch and the Wardrobe","The Alchemist","Harry Potter and the Chamber of Secrets"]},{"name":"John Fredriksson","occupation":"janitor","books_read":["The Alchemist","The Lion, the Witch and the Wardrobe","The Hobbit"]},{"name":"Marcus Strömberg","occupation":"firefighter","books_read":["The Adventures of Pinocchio","The Da Vinci Code","Harry Potter and the Chamber of Secrets","Alices Adventures in Wonderland","Heidi","The Alchemist"]},{"name":"Albin Abrahamsson","occupation":"paramedic","books_read":["The Alchemist","The Hobbit","The Da Vinci Code"]},{"name":"Agneta Wallin","occupation":"firefighter","books_read":["Heidi","Harry Potter and the Chamber of Secrets"]},{"name":"Elisabeth Danielsson","occupation":"lawyer","books_read":["The Alchemist","Heidi","The Da Vinci Code","Harry Potter and the Philosophers Stone","Alices Adventures in Wonderland","The Hobbit"]},{"name":"Siv Blom","occupation":"scientist","books_read":["The Adventures of Pinocchio","The Da Vinci Code","Harry Potter and the Chamber of Secrets","Alices Adventures in Wonderland"]},{"name":"Oskar Lundqvist","occupation":"painter","books_read":["Heidi","Harry Potter and the Chamber of Secrets"]},{"name":"Rolf Sandberg","occupation":"janitor","books_read":["The Alchemist","The Adventures of Pinocchio","Harry Potter and the Chamber of Secrets","The Hobbit"]},{"name":"Sonja Blomqvist","occupation":"salesperson","books_read":["The Da Vinci Code","Heidi","Alices Adventures in Wonderland"]},{"name":"Åsa Lindström","occupation":"criminal","books_read":["The Lion, the Witch and the Wardrobe","The Adventures of Pinocchio"]},{"name":"Carina Andreasson","occupation":"trucker","books_read":["Alices Adventures in Wonderland","The Da Vinci Code","The Lion, the Witch and the Wardrobe","The Lord of the Rings"]},{"name":"Robin Jonsson","occupation":"police","books_read":["Harry Potter and the Chamber of Secrets","The Lion, the Witch and the Wardrobe","The Alchemist"]},{"name":"Anette Eklund","occupation":"janitor","books_read":["Harry Potter and the Philosophers Stone","The Hobbit","The Da Vinci Code"]},{"name":"Wilhelm Henriksson","occupation":"nurse","books_read":["Alices Adventures in Wonderland","The Lion, the Witch and the Wardrobe","The Hobbit","Harry Potter and the Philosophers Stone","Harry Potter and the Chamber of Secrets"]},{"name":"Gösta Gunnarsson","occupation":"criminal","books_read":["Harry Potter and the Chamber of Secrets","The Adventures of Pinocchio"]},{"name":"Caroline Andersson","occupation":"trucker","books_read":["The Lion, the Witch and the Wardrobe","Harry Potter and the Chamber of Secrets","Alices Adventures in Wonderland","The Hobbit","Harry Potter and the Philosophers Stone"]},{"name":"Pia Olofsson","occupation":"nurse","books_read":["The Adventures of Pinocchio","The Hobbit","The Lord of the Rings"]},{"name":"Emilia Larsson","occupation":"criminal","books_read":["The Lion, the Witch and the Wardrobe","The Hobbit","The Da Vinci Code","Alices Adventures in Wonderland"]},{"name":"Bengt Holmgren","occupation":"trucker","books_read":["The Lord of the Rings","The Adventures of Pinocchio","Alices Adventures in Wonderland","The Hobbit"]},{"name":"Daniel Mårtensson","occupation":"lawyer","books_read":["The Adventures of Pinocchio","Heidi","Harry Potter and the Chamber of Secrets"]},{"name":"Sten Lundström","occupation":"cashier","books_read":["Harry Potter and the Philosophers Stone","The Adventures of Pinocchio","Heidi","The Lion, the Witch and the Wardrobe","The Da Vinci Code"]},{"name":"Thomas Nyström","occupation":"singer","books_read":["The Adventures of Pinocchio","Harry Potter and the Chamber of Secrets"]},{"name":"Karin Dahl","occupation":"scientist","books_read":["Harry Potter and the Philosophers Stone","Harry Potter and the Chamber of Secrets"]},{"name":"Sofie Gunnarsson","occupation":"criminal","books_read":["Harry Potter and the Philosophers Stone","The Hobbit","The Adventures of Pinocchio","The Alchemist","The Da Vinci Code","Alices Adventures in Wonderland"]},{"name":"Marianne Isaksson","occupation":"police","books_read":["The Lord of the Rings","The Lion, the Witch and the Wardrobe","The Da Vinci Code"]},{"name":"Birgitta Strömberg","occupation":"salesperson","books_read":["Heidi","The Alchemist","The Hobbit","Harry Potter and the Philosophers Stone"]},{"name":"Charlotte Gustafsson","occupation":"teacher","books_read":["The Da Vinci Code","The Lion, the Witch and the Wardrobe","Alices Adventures in Wonderland","The Hobbit","Heidi","The Lord of the Rings"]},{"name":"Andreas Henriksson","occupation":"nurse","books_read":["The Lion, the Witch and the Wardrobe","Heidi","Harry Potter and the Philosophers Stone"]},{"name":"Jonathan Holmgren","occupation":"lawyer","books_read":["Heidi","Harry Potter and the Philosophers Stone","The Da Vinci Code"]},{"name":"Joakim Viklund","occupation":"unemployed","books_read":["Harry Potter and the Chamber of Secrets","The Hobbit","The Adventures of Pinocchio","The Alchemist"]},{"name":"Oskar Berg","occupation":"bookkeeper","books_read":["The Lion, the Witch and the Wardrobe","The Hobbit"]},{"name":"Julia Pålsson","occupation":"teacher","books_read":["The Alchemist","Harry Potter and the Philosophers Stone","Alices Adventures in Wonderland"]},{"name":"Lisa Karlsson","occupation":"painter","books_read":["The Lion, the Witch and the Wardrobe","The Lord of the Rings","The Adventures of Pinocchio","Harry Potter and the Philosophers Stone","The Da Vinci Code"]},{"name":"Linnéa Eklund","occupation":"firefighter","books_read":["The Lord of the Rings","The Adventures of Pinocchio","Harry Potter and the Chamber of Secrets","Heidi"]}]'
data = json.loads(bookworms)
def list_bookworms(books):
    # Din implementation här!
    return [bookworm["name"] for bookworm in filter(lambda x: set(search).issubset(x["books_read"]), data) ]

def clear():
    os

while True:
    clear()
    print('.: BOOKWORM DATABASE :.')
    print(23 * '-')

    search = []

    while True:
        user_input = input('> ')
        if user_input == '':
            break
        search.append(user_input)

    print(23 * '-')

    for bookworm in list_bookworms(search):
        print(' * ' + bookworm)

    print(23 * '-')
    input('Press enter to search again...')
