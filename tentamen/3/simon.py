#!/usr/bin/env python3

import os, sys
import json

# Data from the problem
teams_raw = '[{"name":"Stockholm Sandwiches","id":"h546td37"},{"name":"Göteborg Gamers","id":"yrsoww0w"},{"name":"Malmö Monsters","id":"cajynyir"},{"name":"Uppsala Ultimates","id":"g7r2px6j"},{"name":"Västerås Vampires","id":"dxv3eoma"},{"name":"Örebro Oysters","id":"6n46jssg"},{"name":"Linköping Lieutenants","id":"jk7d90vz"},{"name":"Helsingborg Hammers","id":"1uy93gsl"}]'
teams = json.loads(teams_raw)

players_raw = '[{"name":"Emelie Lundström","team_id":"1uy93gsl"},{"name":"Mats Lundström","team_id":"1uy93gsl"},{"name":"Birgitta Nordin","team_id":"yrsoww0w"},{"name":"Erik Hassan","team_id":"dxv3eoma"},{"name":"Emil Norberg","team_id":"cajynyir"},{"name":"Mikael Eliasson","team_id":"dxv3eoma"},{"name":"Ingvar Björk","team_id":"6n46jssg"},{"name":"Sara Olofsson","team_id":"dxv3eoma"},{"name":"Kerstin Hedlund","team_id":"1uy93gsl"},{"name":"Kristina Jonasson","team_id":"1uy93gsl"},{"name":"Niklas Berg","team_id":"h546td37"},{"name":"Lucas Eriksson","team_id":"6n46jssg"},{"name":"Anders Magnusson","team_id":"g7r2px6j"},{"name":"Ingrid Gustafsson","team_id":"cajynyir"},{"name":"Anita Dahlberg","team_id":"jk7d90vz"},{"name":"Christian Wallin","team_id":"yrsoww0w"},{"name":"Peter Lindberg","team_id":"6n46jssg"},{"name":"Camilla Bergman","team_id":"g7r2px6j"},{"name":"Kurt Lindgren","team_id":"cajynyir"},{"name":"Elsa Fransson","team_id":"jk7d90vz"},{"name":"Leif Lindholm","team_id":"yrsoww0w"},{"name":"Emelie Arvidsson","team_id":"1uy93gsl"},{"name":"Ulrika Ali","team_id":"6n46jssg"},{"name":"Elsa Löfgren","team_id":"jk7d90vz"},{"name":"Mikael Svensson","team_id":"jk7d90vz"},{"name":"Lisa Söderberg","team_id":"dxv3eoma"},{"name":"Ingrid Olsson","team_id":"cajynyir"},{"name":"Julia Henriksson","team_id":"1uy93gsl"},{"name":"Camilla Gunnarsson","team_id":"dxv3eoma"},{"name":"Maja Henriksson","team_id":"1uy93gsl"},{"name":"Mats Andreasson","team_id":"jk7d90vz"},{"name":"Linus Björk","team_id":"6n46jssg"},{"name":"Olivia Wikström","team_id":"yrsoww0w"},{"name":"Emelie Lind","team_id":"dxv3eoma"},{"name":"Ingvar Hansen","team_id":"dxv3eoma"},{"name":"Rune Björk","team_id":"h546td37"},{"name":"Ellen Magnusson","team_id":"cajynyir"},{"name":"Linnéa Björklund","team_id":"dxv3eoma"},{"name":"Emma Jansson","team_id":"g7r2px6j"},{"name":"Kent Karlsson","team_id":"jk7d90vz"},{"name":"Emanuel Lindström","team_id":"1uy93gsl"},{"name":"Mattias Lundgren","team_id":"6n46jssg"},{"name":"Adam Karlsson","team_id":"1uy93gsl"},{"name":"Maria Danielsson","team_id":"dxv3eoma"},{"name":"Gun Öberg","team_id":"g7r2px6j"},{"name":"Dan Abrahamsson","team_id":"dxv3eoma"},{"name":"Ingemar Martinsson","team_id":"h546td37"},{"name":"Simon Hansson","team_id":"6n46jssg"},{"name":"Fredrik Andersson","team_id":"jk7d90vz"},{"name":"Kent Löfgren","team_id":"g7r2px6j"},{"name":"Tommy Lindqvist","team_id":"1uy93gsl"},{"name":"Ingemar Ali","team_id":"g7r2px6j"},{"name":"Lisbeth Jönsson","team_id":"g7r2px6j"},{"name":"Britt Sjögren","team_id":"dxv3eoma"},{"name":"Kent Engström","team_id":"yrsoww0w"},{"name":"Christian Pettersson","team_id":"cajynyir"},{"name":"Kristin Karlsson","team_id":"cajynyir"},{"name":"Jessica Hermansson","team_id":"1uy93gsl"},{"name":"Peter Ekström","team_id":"g7r2px6j"},{"name":"Linnéa Mohamed","team_id":"g7r2px6j"},{"name":"Johnny Månsson","team_id":"g7r2px6j"},{"name":"Emil Mårtensson","team_id":"1uy93gsl"},{"name":"Torbjörn Berg","team_id":"6n46jssg"},{"name":"Inger Bergqvist","team_id":"jk7d90vz"},{"name":"Emma Ek","team_id":"jk7d90vz"},{"name":"Mona Henriksson","team_id":"1uy93gsl"},{"name":"Märta Holm","team_id":"g7r2px6j"},{"name":"Ingrid Nilsson","team_id":"dxv3eoma"},{"name":"Lisbeth Sjöberg","team_id":"1uy93gsl"},{"name":"Sven Lindholm","team_id":"dxv3eoma"},{"name":"Sven Lindberg","team_id":"dxv3eoma"},{"name":"Annika Arvidsson","team_id":"cajynyir"},{"name":"Maj Jakobsson","team_id":"yrsoww0w"},{"name":"Henrik Nyström","team_id":"1uy93gsl"},{"name":"Karin Andersson","team_id":"cajynyir"},{"name":"Hugo Bergqvist","team_id":"cajynyir"},{"name":"Therese Sjöberg","team_id":"g7r2px6j"},{"name":"Jenny Claesson","team_id":"yrsoww0w"},{"name":"Emanuel Gunnarsson","team_id":"dxv3eoma"},{"name":"Patrik Nilsson","team_id":"dxv3eoma"},{"name":"Olof Berggren","team_id":"6n46jssg"},{"name":"Ove Jakobsson","team_id":"g7r2px6j"},{"name":"Amanda Hansen","team_id":"dxv3eoma"},{"name":"Thomas Jonasson","team_id":"dxv3eoma"},{"name":"Lars Lindholm","team_id":"6n46jssg"},{"name":"Emil Håkansson","team_id":"1uy93gsl"},{"name":"Niklas Gustafsson","team_id":"jk7d90vz"},{"name":"Kent Norberg","team_id":"g7r2px6j"},{"name":"Bo Johansson","team_id":"dxv3eoma"},{"name":"Isabelle Åberg","team_id":"yrsoww0w"},{"name":"Ellinor Nyberg","team_id":"dxv3eoma"},{"name":"Lars Engström","team_id":"dxv3eoma"},{"name":"Jakob Ahmed","team_id":"h546td37"},{"name":"Hans Olsson","team_id":"dxv3eoma"},{"name":"Agneta Olofsson","team_id":"jk7d90vz"},{"name":"Oskar Falk","team_id":"1uy93gsl"},{"name":"Viktor Andersson","team_id":"yrsoww0w"},{"name":"Amanda Falk","team_id":"6n46jssg"},{"name":"Gösta Pettersson","team_id":"cajynyir"},{"name":"Märta Norberg","team_id":"g7r2px6j"},{"name":"Jessica Jonsson","team_id":"g7r2px6j"},{"name":"Anette Sundberg","team_id":"dxv3eoma"},{"name":"Rut Månsson","team_id":"h546td37"},{"name":"Arvid Hedlund","team_id":"cajynyir"},{"name":"Ingvar Jakobsson","team_id":"1uy93gsl"},{"name":"Robin Nyström","team_id":"cajynyir"},{"name":"Jakob Strömberg","team_id":"cajynyir"},{"name":"Annika Löfgren","team_id":"h546td37"},{"name":"Margareta Olofsson","team_id":"h546td37"},{"name":"Ingvar Axelsson","team_id":"dxv3eoma"},{"name":"Louise Sandberg","team_id":"dxv3eoma"},{"name":"Jakob Claesson","team_id":"dxv3eoma"},{"name":"Åke Martinsson","team_id":"1uy93gsl"},{"name":"Oskar Lundström","team_id":"cajynyir"},{"name":"Marianne Olsson","team_id":"cajynyir"},{"name":"Alexandra Dahl","team_id":"cajynyir"},{"name":"Britt Hansson","team_id":"h546td37"},{"name":"Carina Hansen","team_id":"jk7d90vz"},{"name":"Ingvar Åberg","team_id":"yrsoww0w"},{"name":"Louise Lundqvist","team_id":"cajynyir"},{"name":"Elisabeth Isaksson","team_id":"jk7d90vz"},{"name":"Elsa Dahl","team_id":"jk7d90vz"},{"name":"Barbro Sandberg","team_id":"cajynyir"},{"name":"Ebba Berglund","team_id":"h546td37"},{"name":"Fredrik Lundgren","team_id":"yrsoww0w"},{"name":"John Henriksson","team_id":"g7r2px6j"},{"name":"Åke Eliasson","team_id":"g7r2px6j"},{"name":"Stig Larsson","team_id":"jk7d90vz"},{"name":"Christer Lind","team_id":"1uy93gsl"},{"name":"Carina Svensson","team_id":"cajynyir"},{"name":"Anneli Lindgren","team_id":"jk7d90vz"},{"name":"Ulla Dahlberg","team_id":"dxv3eoma"},{"name":"Elias Jonasson","team_id":"h546td37"},{"name":"Kerstin Lund","team_id":"g7r2px6j"},{"name":"Linus Larsson","team_id":"yrsoww0w"},{"name":"Barbro Sundberg","team_id":"1uy93gsl"},{"name":"Ellinor Håkansson","team_id":"cajynyir"},{"name":"Wilhelm Martinsson","team_id":"h546td37"},{"name":"Erik Ek","team_id":"1uy93gsl"},{"name":"Berit Lundgren","team_id":"yrsoww0w"},{"name":"Eva Jansson","team_id":"jk7d90vz"},{"name":"Ove Håkansson","team_id":"cajynyir"},{"name":"Berit Dahlberg","team_id":"yrsoww0w"},{"name":"Ebba Johansson","team_id":"g7r2px6j"},{"name":"Gunilla Hansen","team_id":"1uy93gsl"},{"name":"Niklas Henriksson","team_id":"6n46jssg"},{"name":"Ulf Holmberg","team_id":"yrsoww0w"},{"name":"Jörgen Forsberg","team_id":"jk7d90vz"},{"name":"Lennart Hellström","team_id":"6n46jssg"},{"name":"Tommy Blomqvist","team_id":"h546td37"},{"name":"Erika Samuelsson","team_id":"h546td37"},{"name":"Gun Bergström","team_id":"6n46jssg"},{"name":"Alf Svensson","team_id":"h546td37"},{"name":"Johannes Bergqvist","team_id":"6n46jssg"},{"name":"Carina Berg","team_id":"dxv3eoma"},{"name":"Amanda Lundberg","team_id":"6n46jssg"},{"name":"Charlotte Fransson","team_id":"dxv3eoma"},{"name":"William Arvidsson","team_id":"1uy93gsl"},{"name":"Camilla Sjöberg","team_id":"g7r2px6j"},{"name":"Elsa Martinsson","team_id":"cajynyir"},{"name":"Olof Sandberg","team_id":"h546td37"},{"name":"Elin Johansson","team_id":"jk7d90vz"},{"name":"Lisa Jonasson","team_id":"g7r2px6j"},{"name":"Viola Wikström","team_id":"dxv3eoma"},{"name":"Elin Danielsson","team_id":"1uy93gsl"},{"name":"Britt Björklund","team_id":"yrsoww0w"},{"name":"Alexander Söderberg","team_id":"g7r2px6j"},{"name":"Alf Holmberg","team_id":"jk7d90vz"},{"name":"Marcus Jönsson","team_id":"cajynyir"},{"name":"Axel Sjöberg","team_id":"g7r2px6j"},{"name":"William Samuelsson","team_id":"g7r2px6j"},{"name":"Alexander Pettersson","team_id":"jk7d90vz"},{"name":"Ann-Christin Larsson","team_id":"dxv3eoma"},{"name":"Jessica Eklund","team_id":"dxv3eoma"},{"name":"Susanne Gustafsson","team_id":"jk7d90vz"},{"name":"Alexander Lundgren","team_id":"yrsoww0w"},{"name":"Anita Gunnarsson","team_id":"h546td37"},{"name":"Barbro Holm","team_id":"g7r2px6j"},{"name":"Joakim Berglund","team_id":"cajynyir"},{"name":"Martin Löfgren","team_id":"dxv3eoma"},{"name":"Dan Larsson","team_id":"cajynyir"},{"name":"Lucas Sjöberg","team_id":"cajynyir"},{"name":"Arne Abrahamsson","team_id":"h546td37"},{"name":"Cecilia Löfgren","team_id":"g7r2px6j"},{"name":"Berit Sjöberg","team_id":"jk7d90vz"},{"name":"Anton Lundberg","team_id":"jk7d90vz"},{"name":"Karl Ali","team_id":"jk7d90vz"},{"name":"Alexander Jönsson","team_id":"h546td37"},{"name":"Ellinor Sandberg","team_id":"6n46jssg"},{"name":"Ali Arvidsson","team_id":"g7r2px6j"},{"name":"Emilia Olsson","team_id":"dxv3eoma"},{"name":"Robert Jakobsson","team_id":"g7r2px6j"},{"name":"Johnny Dahl","team_id":"g7r2px6j"},{"name":"Gun Andersson","team_id":"1uy93gsl"},{"name":"Ingegerd Wikström","team_id":"6n46jssg"},{"name":"Märta Johansson","team_id":"6n46jssg"},{"name":"Per Holmberg","team_id":"h546td37"},{"name":"Sofia Åberg","team_id":"g7r2px6j"},{"name":"Mattias Lindqvist","team_id":"h546td37"},{"name":"Karin Dahl","team_id":"6n46jssg"},{"name":"Rut Hansson","team_id":"dxv3eoma"},{"name":"Matilda Lind","team_id":"6n46jssg"},{"name":"Hugo Lindström","team_id":"g7r2px6j"},{"name":"Lucas Eklund","team_id":"h546td37"},{"name":"Bertil Blom","team_id":"dxv3eoma"},{"name":"Ulla Engström","team_id":"1uy93gsl"},{"name":"Johannes Claesson","team_id":"1uy93gsl"},{"name":"Charlotta Claesson","team_id":"dxv3eoma"},{"name":"Ingrid Bergman","team_id":"yrsoww0w"},{"name":"Jenny Holmberg","team_id":"cajynyir"},{"name":"Torbjörn Söderberg","team_id":"1uy93gsl"},{"name":"Håkan Berggren","team_id":"cajynyir"},{"name":"Ingegerd Nordin","team_id":"dxv3eoma"},{"name":"Katarina Löfgren","team_id":"dxv3eoma"},{"name":"Robin Falk","team_id":"dxv3eoma"},{"name":"Alf Hansen","team_id":"1uy93gsl"},{"name":"Alf Berg","team_id":"jk7d90vz"},{"name":"Bengt Gunnarsson","team_id":"jk7d90vz"},{"name":"Jörgen Öberg","team_id":"jk7d90vz"},{"name":"Viktor Lundin","team_id":"yrsoww0w"},{"name":"Roger Lindholm","team_id":"1uy93gsl"},{"name":"Helen Blom","team_id":"g7r2px6j"},{"name":"Lars Magnusson","team_id":"jk7d90vz"},{"name":"Gunnar Danielsson","team_id":"h546td37"},{"name":"Georg Jansson","team_id":"jk7d90vz"},{"name":"Gösta Ek","team_id":"g7r2px6j"},{"name":"Hanna Lindgren","team_id":"yrsoww0w"},{"name":"Ingemar Hermansson","team_id":"1uy93gsl"},{"name":"Linda Lund","team_id":"jk7d90vz"},{"name":"Jenny Hedlund","team_id":"dxv3eoma"},{"name":"Ann-Marie Eriksson","team_id":"1uy93gsl"},{"name":"Jörgen Bergström","team_id":"jk7d90vz"},{"name":"Alf Eriksson","team_id":"1uy93gsl"},{"name":"Katarina Blom","team_id":"h546td37"},{"name":"John Falk","team_id":"g7r2px6j"},{"name":"Klara Gustafsson","team_id":"h546td37"},{"name":"Oliver Engström","team_id":"6n46jssg"},{"name":"Emilia Berg","team_id":"g7r2px6j"},{"name":"Claes Strömberg","team_id":"1uy93gsl"},{"name":"Linnéa Ali","team_id":"g7r2px6j"},{"name":"Sten Lundqvist","team_id":"yrsoww0w"},{"name":"Lars Öberg","team_id":"dxv3eoma"},{"name":"Oskar Lindberg","team_id":"yrsoww0w"},{"name":"Jonas Olofsson","team_id":"1uy93gsl"},{"name":"Mohamed Åkesson","team_id":"1uy93gsl"},{"name":"Alexandra Jonsson","team_id":"jk7d90vz"},{"name":"Britt Dahl","team_id":"g7r2px6j"},{"name":"Joakim Bergqvist","team_id":"cajynyir"},{"name":"Emelie Söderberg","team_id":"6n46jssg"},{"name":"Karolina Dahl","team_id":"jk7d90vz"},{"name":"Andreas Nordin","team_id":"jk7d90vz"},{"name":"Ingrid Lundqvist","team_id":"g7r2px6j"},{"name":"Ingemar Ekström","team_id":"dxv3eoma"},{"name":"Pia Jonsson","team_id":"h546td37"},{"name":"Georg Hassan","team_id":"h546td37"},{"name":"Lena Eklund","team_id":"6n46jssg"},{"name":"Karl Eklund","team_id":"1uy93gsl"},{"name":"Patrik Wikström","team_id":"dxv3eoma"},{"name":"Emil Pettersson","team_id":"cajynyir"},{"name":"Emma Lund","team_id":"g7r2px6j"},{"name":"Agneta Jonsson","team_id":"6n46jssg"},{"name":"Ann-Christin Åkesson","team_id":"6n46jssg"},{"name":"Filip Forsberg","team_id":"g7r2px6j"},{"name":"Frida Wikström","team_id":"g7r2px6j"},{"name":"Emelie Norberg","team_id":"g7r2px6j"},{"name":"Thomas Lindström","team_id":"g7r2px6j"},{"name":"Marie Mårtensson","team_id":"jk7d90vz"},{"name":"Johanna Hermansson","team_id":"cajynyir"},{"name":"Arne Dahl","team_id":"6n46jssg"},{"name":"Mohamed Nilsson","team_id":"6n46jssg"},{"name":"Hanna Blomqvist","team_id":"dxv3eoma"},{"name":"Gustav Bergqvist","team_id":"cajynyir"},{"name":"Josef Forsberg","team_id":"g7r2px6j"},{"name":"Lena Karlsson","team_id":"6n46jssg"},{"name":"Jan Eriksson","team_id":"dxv3eoma"},{"name":"Isak Wikström","team_id":"jk7d90vz"},{"name":"Inga Strömberg","team_id":"6n46jssg"},{"name":"Mikael Dahlberg","team_id":"6n46jssg"},{"name":"Linda Viklund","team_id":"dxv3eoma"},{"name":"Ingemar Engström","team_id":"g7r2px6j"},{"name":"Yvonne Nyström","team_id":"6n46jssg"},{"name":"Camilla Lindgren","team_id":"yrsoww0w"},{"name":"Hanna Berglund","team_id":"1uy93gsl"},{"name":"Johnny Engström","team_id":"6n46jssg"},{"name":"David Lundström","team_id":"yrsoww0w"},{"name":"Håkan Lundin","team_id":"1uy93gsl"},{"name":"Caroline Åkesson","team_id":"yrsoww0w"},{"name":"Adam Björklund","team_id":"jk7d90vz"},{"name":"Claes Wikström","team_id":"cajynyir"},{"name":"Claes Holmberg","team_id":"1uy93gsl"},{"name":"Sebastian Karlsson","team_id":"cajynyir"},{"name":"Matilda Claesson","team_id":"6n46jssg"},{"name":"Fredrik Claesson","team_id":"6n46jssg"},{"name":"Caroline Lindqvist","team_id":"g7r2px6j"},{"name":"Thomas Berg","team_id":"1uy93gsl"},{"name":"Viola Blom","team_id":"yrsoww0w"},{"name":"Björn Jönsson","team_id":"g7r2px6j"},{"name":"Kristina Andreasson","team_id":"6n46jssg"},{"name":"Daniel Holmberg","team_id":"6n46jssg"},{"name":"Hans Ek","team_id":"1uy93gsl"}]'
players = json.loads(players_raw)

def cls():
    os.system("cls" if os.name == "nt" else "clear")

def list_players():
    print('-'*25)
    for player in players:
        print("| " + player["name"])
    print('-'*25)

def player_info():
    name = input("Player > ")

    try:
        player = next(filter(lambda x: x["name"] == name, players))
        team = next(filter(lambda x: x["id"] == player["team_id"], teams))
    except StopIteration:
        # Also executes on missing team_id, but that does not happen in the test data
        sys.stderr.write("ERROR: Invalid player: '{}'\n".format(name))
        return

    print(f"{player['name']}, {team['name']}")

def main():
    oper_help = """\
--------------------------
{title:^25}
--------------------------
list | List players
get  | Info about player
--------------------------""".format(title="Football Database")

    operations = {
        "list": list_players,
        "get": player_info,
    }

    while True:
        cls()
        print(oper_help)

        oper = input("Selection > ")
        if oper in operations:
            operations[oper]()
        else:
            sys.stderr.write("ERROR: No such operation: '{}'\n".format(oper))

        input("Press ENTER to continue...")

if __name__ == '__main__':
    main()
